<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDk51ePE-urT7Is4Qn8h04CZJlT8tjgSFk",
        authDomain: "senior-project-5657a.firebaseapp.com",
        databaseURL: "https://senior-project-5657a.firebaseio.com",
        projectId: "senior-project-5657a",
        storageBucket: "senior-project-5657a.appspot.com",
        messagingSenderId: "1089154992933"
      };
      firebase.initializeApp(config);
    </script>

    <style>

    body{
      font: 15px/1.5 Arial, Helvetica,sans-serif;
      padding:0;
      margin:0;
      background-color:#f4f4f4;
    }

    /* Global */
    .container{
      width:80%;
      margin:auto;
      overflow:hidden;
    }

    ul{
      margin:0;
      padding:0;
    }

    .button_1{
      height:38px;
      font-size: 20px;
      background:#4CAF50;
      border:0;
      padding-left: 40px;
      padding-right:40px;
      color:#ffffff;
      cursor: pointer;
      margin-top: 50px;
    }

    .dark{
      padding:15px;
      background:#35424a;
      color:#ffffff;
      margin-top:10px;
      margin-bottom:10px;
    }

    /* Header **/
    header{
      background:rgb(28, 57, 22);
      color:#ffffff;
      padding-top:30px;
      min-height:70px;
      border-bottom:rgb(71, 54, 35) 3px solid;
    }

    header a{
      color:#ffffff;
      text-decoration:none;
      text-transform: uppercase;
      font-size:16px;
    }

    header li{
      float:left;
      display:inline;
      padding: 0 20px 0 20px;
    }

    header #branding{
      float:left;
    }

    header #branding h1{
      margin:0;
    }

    header nav{
      float:right;
      margin-top:10px;
    }

    header .highlight, header .current a{
      color:#e8491d;
      font-weight:bold;
    }

    header a:hover{
      color:#cccccc;
      font-weight:bold;
    }

    header h4{
      margin:0px;
    }

    header button{
      height:38px;
      font-size: 16px;
      background:#4CAF50;
      border:0;
      padding-left: 10px;
      padding-right:10px;
      margin-top: -20px;
      color:#ffffff;
      cursor: pointer;
    }

    /* Showcase */
    #showcase{
      min-height:500px;
      background:url('pexels-photo.jpeg') no-repeat 0 -400px;
      text-align:center;
      color:#ffffff;
    }

    #showcase h1{
      margin-top:100px;
      font-size:55px;
      margin-bottom:10px;
    }

    #showcase p{
      font-size:20px;
    }

    /* Newsletter */
    #newsletter{
      padding:15px;
      color:#ffffff;
      background:#35424a
    }

    #newsletter h1{
      float:left;
    }

    #newsletter form {
      float:right;
      margin-top:15px;
    }

    #newsletter input[type="email"]{
      padding:4px;
      height:25px;
      width:250px;
    }

    /* Boxes */
    #boxes{
      margin-top:20px;
    }

    #boxes .box{
      float:left;
      text-align: center;
      width:30%;
      padding:10px;
    }

    #boxes .box img{
      width:90px;
    }

    /* Sidebar */
    aside#sidebar{
      float:right;
      width:30%;
      margin-top:10px;
    }

    aside#sidebar .quote input, aside#sidebar .quote textarea{
      width:90%;
      padding:5px;
    }

    /* Main-col */
    article#main-col{
      float:left;
      width:65%;
    }

    /* Services */
    ul#services li{
      list-style: none;
      padding:20px;
      border: #cccccc solid 1px;
      margin-bottom:5px;
      background:#e6e6e6;
    }

    footer{
      padding:20px;
      margin-top:20px;
      color:#ffffff;
      background-color:rgb(28, 57, 22);
      text-align: center;
      border-top:rgb(71, 54, 35) 3px solid;
    }

    /* Media Queries */
    @media(max-width: 768px){
      header #branding,
      header nav,
      header nav li,
      #boxes .box,
      article#main-col,
      aside#sidebar{
        float:none;
        text-align:center;
        width:100%;
      }

      header{
        padding-bottom:20px;
      }

      #showcase h1{
        margin-top:40px;
      }
    }

    </style>

</head>

<body>

    <header>
      <div class="container">
        <div id="branding">
          <h1><span class="highlight">Watering</span> system</h1>
        </div>
        <nav>
          <ul>
            <li><h4><span id="email"></span></h4></li>
            <li class="current"><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="services.html">Services</a></li>
            <li><button onclick="Logout()">LOG OUT</button></li>
          </ul>
        </nav>
      </div>
    </header>

    <section id="showcase">
      <div class="container">
        <h1>Affordable Professional Web Design</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam eu luctus ipsum, rhoncus semper magna. Nulla nec magna sit amet sem interdum condimentum.</p>
      </div>
    </section>

    <section id="boxes">
      <div class="container">
        <h1>กรุณาเลือกรูปแบบการทำงาน</h1>
        <form>
          <select id="mySelect">
            <option>auto</option>
            <option>manual</option>
          </select>
          <button onclick="getOption()" type="button" class="button_1">Subscribe</button>
        </form>
      </div>
    </section>

    <!--<section id="boxes">
      <div class="container">
        <div class="box">
          <img src="./img/logo_html.png">
          <h3>HTML5 Markup</h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus mi augue, viverra sit amet ultricies</p>
        </div>
        <div class="box">
          <img src="./img/logo_css.png">
          <h3>CSS3 Styling</h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus mi augue, viverra sit amet ultricies</p>
        </div>
        <div class="box">
          <img src="./img/logo_brush.png">
          <h3>Graphic Design</h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus mi augue, viverra sit amet ultricies</p>
        </div>
      </div>
    </section>-->

    <!--<section id="showcase">
      <div class="container">

        <h2 class="aa">ความชื้นปัจจุบัน : <span id="moisture"></span></h2>

        <button id="openSpray" class="button_1">On</button>

        <button id="closeSpray" class="button_1">Off</button>

        <button id="auto" class="button_1">Auto</button>

        <button id="manual" class="button_1">Maunual</button>

        <h2>สถานะน้ำ : <span id="spray"></span></h2>
        <h2>ระบบ : <span id="type"></span></h2>

      </div>
    </section>-->

    <footer>
      <p>Watering system, Copyright &copy; 2018</p>
    </footer>

</body>

<script>

    firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
            // User is signed in.
            var displayName = user.displayName;
            var email = user.email;
            var emailVerified = user.emailVerified;
            var photoURL = user.photoURL;
            var isAnonymous = user.isAnonymous;
            var uid = user.uid;
            var providerData = user.providerData;
            document.getElementById('email').innerHTML = email
            console.log(email, uid)
            // ...
        } else {
            window.location = 'index.html'
        }
    });

    function Logout() {
        firebase.auth().signOut();
    }
</script>

<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>

<script>
    var rootRef = firebase.database().ref()
    rootRef.child("Spray").on("value", function(snapshot) {
        console.log("spray", snapshot.val())
        $("#spray").text(snapshot.val())
    })
    rootRef.child("Type").on("value", function(snapshot) {
        console.log("type", snapshot.val())
        $("#type").text(snapshot.val())
    })
    rootRef.child("Soil moisture").on("value", function(snapshot) {
        console.log("moisture", snapshot.val())
        $("#moisture").text(snapshot.val())
    })

    $("#openSpray").click(function () {
        rootRef.child("Spray").set(1)
    })
    $("#closeSpray").click(function () {
        rootRef.child("Spray").set(0)
    })
    $("#auto").click(function () {
        rootRef.child("Type").set("auto")
    })
    $("#manual").click(function () {
        rootRef.child("Type").set("manual")
    })
</script>

</html>
